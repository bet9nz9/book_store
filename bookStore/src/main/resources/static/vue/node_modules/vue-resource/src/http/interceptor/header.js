/**
 * Header Interceptor.
 */

import Http from 'vue-resource/src/http';
import {assign, each, toLower} from 'vue-resource/src/util';

export default function (request) {

    const headers = assign({}, Http.headers.common,
        !request.crossOrigin ? Http.headers.custom : {},
        Http.headers[toLower(request.method)]
    );

    each(headers, (value, name) => {
        if (!request.headers.has(name)) {
            request.headers.set(name, value);
        }
    });

}
